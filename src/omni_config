# This is a sample Omni config file
# It tells Omni how to talk to various Clearinghouses.
# And by extension, which Experimenter credentials to use.

# Any given instance of omni makes calls to a framework 
# (e.g., SFA, ProtoGENI, etc..) to create slices, get slice
# credentials, and to find a list of authorized aggregates.
# This file specifies the control frameworks that you are
# a member of and the users that you want to be able to login
# to your allocated resources (e.g., virtual machines)


[omni]
# The default control framework for omni to use.
# Override on the commandline with -f argument.
# This should be the name of a section that you define below
# Note you could have multiple instances of the same type
# configured, EG for different MyPLC instances.
default_cf = my_sfa

# The slice_users argument in "CreateSliver".  It uploads
# names and public ssh keys to allocated resources for login.
# Details on users should be defined in sections below
users = Alice, Bob


# Omni will by default contact every Aggregate Manager listed
# by your control framework's registry/clearinghouse.  If you would
# like to provide a specific list of aggregates to contact, do so 
# here in a comma delimited list of of urls.
# e.g., aggregates = http://www.planet-lab.org:12347/, http://myplc2.gpolab.bbn.com:8001/
aggregates =

# ==================================
# Configure Control Frameworks here

# At least one framework section (sfa/pg/gcf) needs to be filled out
# and pointed to by default_cf


[my_sfa]
# Most of these fields can be found in an SFI configuration
# See: http://svn.planet-lab.org/wiki/SFAConfigurationGuide#ConfiguringSFITools

# The framework type (either sfa, pg, or gcf)
type=sfa

# HRN of your MyPLC or PLC (e.g., plc.princeton) site
# Available in the Issuer CN of your user cert
authority=plc.bbn

# Your planetlab username
user=plc.bbn.jkarlin

# Your PL certificate (obtain by running 'sfi.py gid')
# and copying ~/.sfi/<your username>.gid here
cert=~/.omni/jkarlin.gid

# Your planetlab private key
key=~/.omni/id_rsa_planetlab

# URLs of your PL registry and slice manager					
# Be sure these are reachable
registry=http://www.planet-lab.org:12345
slicemgr=http://www.planet-lab.org:12347




[my_gcf]
type=gcf

# Authority part of the control frameworks URN
authority=geni:gpo:gcf

# Where the gcf-ch server is listening
ch=https://localhost:8000

cert=~/.omni/alice-cert.pem
key=~/.omni/alice-key.pem



[my_pg]
type=pg
# For debugging
verbose=false
# The address of the PG clearinghouse
ch=https://www.emulab.net:443/protogeni/xmlrpc/ch
# The address of the PG slice authority
sa=https://myboss.elabinelab.geni.emulab.net:443/protogeni/xmlrpc/sa
cert=~/.omni/encrypted.pem
key=~/.omni/pgcert.pem


# ===================================
# Define users here.

# Per above, these are the users of the slices, to tell
# aggregates who care who will be logging in and how
# See CreateSliver API call.



[Alice]
# Name of the user - anything
name=Alice Person
# The URN given to Alice by her control framework
# EG run openssl x509 -in [user cert file] -text and look at the Subject CN
urn=urn:publicid:IDN+geni.net:gpo:gcf+user+alice
# The SSH public keys to install for Alice to allow
# Alice to log in to the allocated resource.
# Comma delimited.
keys=~/.omni/alice.pub, ~/.omni/alice2.pub


[Bob]
name=Bob Sanders
urn=urn:publicid:IDN+plc.bbn+user+bob
keys=~/.omni/bob.pub
